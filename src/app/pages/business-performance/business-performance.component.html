<!--
// v0 by Vercel.
// https://v0.dev/t/oakOkBQpyDn
-->

<div class="flex flex-col min-h-screen bg-background">
  <div class="flex min-h-[calc(100vh_-_theme(spacing.16))] flex-1 gap-4 p-4 md:gap-8 md:p-10">
    <div class="flex flex-col gap-4 w-full">
      <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">

        <!-- Card dos Clientes Ativos -->
        <div class="rounded-lg border bg-card text-card-foreground shadow-sm" data-v0-t="card">
          <div class="space-y-1.5 p-6 flex flex-row items-center justify-between pb-2">
            <h3 class="whitespace-nowrap tracking-tight text-sm font-medium">Clientes Ativos</h3>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="w-4 h-4 text-muted-foreground"
            >
              <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
              <circle cx="9" cy="7" r="4"></circle>
              <path d="M22 21v-2a4 4 0 0 0-3-3.87"></path>
              <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
            </svg>
          </div>
          <div class="p-6">
            <div class="text-2xl font-bold">{{ clienteCount }}</div> <!-- Exibe a contagem de clientes -->
            <p class="text-xs text-muted-foreground">+5.2% este mês</p>
          </div>
        </div>
        <!-- Fim do Card Clientes Ativos -->
        <!-- Inicio do Card Serviços Realizados -->
        <div class="rounded-lg border bg-card text-card-foreground shadow-sm" data-v0-t="card">
          <div class="space-y-1.5 p-6 flex flex-row items-center justify-between pb-2">
            <h3 class="whitespace-nowrap tracking-tight text-sm font-medium">Serviços Realizados</h3>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="w-4 h-4 text-muted-foreground"
            >
              <circle cx="6" cy="6" r="3"></circle>
              <path d="M8.12 8.12 12 12"></path>
              <path d="M20 4 8.12 15.88"></path>
              <circle cx="6" cy="18" r="3"></circle>
              <path d="M14.8 14.8 20 20"></path>
            </svg>
          </div>
          <div class="p-6">
            <div class="text-2xl font-bold">{{ servicosFinalizadosCount }}</div> <!-- Exibe a contagem de serviços finalizados -->
            <p class="text-xs text-muted-foreground">+8.1% este mês</p>
          </div>
        </div>
        <!-- Fim do Card Serviços Realizados -->
        <!-- Inicio do Card Faturado -->
        <div class="rounded-lg border bg-card text-card-foreground shadow-sm" data-v0-t="card">
          <div class="space-y-1.5 p-6 flex flex-row items-center justify-between pb-2">
            <h3 class="whitespace-nowrap tracking-tight text-sm font-medium">Faturamento</h3>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="w-4 h-4 text-muted-foreground"
            >
              <line x1="12" x2="12" y1="2" y2="22"></line>
              <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
            </svg>
          </div>
          <div class="p-6">
            <div class="text-2xl font-bold">R$ {{ faturamentoTotal | currency:'BRL' }}</div> <!-- Exibe o faturamento total -->
            <p class="text-xs text-muted-foreground">+12% este mês</p>
          </div>
        </div>
        <!-- Fim do Card Faturado -->
        <!-- Inicio do Card Produtos Vendidos -->
        <div class="rounded-lg border bg-card text-card-foreground shadow-sm" data-v0-t="card">
          <div class="space-y-1.5 p-6 flex flex-row items-center justify-between pb-2">
            <h3 class="whitespace-nowrap tracking-tight text-sm font-medium">Produtos Vendidos</h3>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="w-4 h-4 text-muted-foreground"
            >
              <path d="m7.5 4.27 9 5.15"></path>
              <path d="M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z"></path>
              <path d="m3.3 7 8.7 5 8.7-5"></path>
              <path d="M12 22V12"></path>
            </svg>
          </div>
          <div class="p-6">
            <div class="text-2xl font-bold">789</div>
            <p class="text-xs text-muted-foreground">+3.4% este mês</p>
          </div>
        </div>
        <!-- Fim do Card Produtos Vendidos -->
        <!-- Inicio do Card Novos Clientes -->

        <div class="rounded-lg border bg-card text-card-foreground shadow-sm" data-v0-t="card">
          <div class="space-y-1.5 p-6 flex flex-row items-center justify-between pb-2">
            <h3 class="whitespace-nowrap tracking-tight text-sm font-medium">Novos Clientes</h3>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="w-4 h-4 text-muted-foreground"
            >
              <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"></path>
              <circle cx="9" cy="7" r="4"></circle>
              <line x1="19" x2="19" y1="8" y2="14"></line>
              <line x1="22" x2="16" y1="11" y2="11"></line>
            </svg>
          </div>
          <div class="p-6">
            <div class="text-2xl font-bold">234</div>
            <p class="text-xs text-muted-foreground">+7.8% este mês</p>
          </div>
        </div>
        <!-- Fim do Card Novos Clientes -->
        <!-- Inicio do Card Agendamentos Pendentes -->

        <div class="rounded-lg border bg-card text-card-foreground shadow-sm" data-v0-t="card">
          <div class="space-y-1.5 p-6 flex flex-row items-center justify-between pb-2">
            <h3 class="whitespace-nowrap tracking-tight text-sm font-medium">Agendamentos Pendentes</h3>
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="w-4 h-4 text-muted-foreground"
            >
              <path d="M8 2v4"></path>
              <path d="M16 2v4"></path>
              <rect width="18" height="18" x="3" y="4" rx="2"></rect>
              <path d="M3 10h18"></path>
            </svg>
          </div>
          <div class="p-6">

            <div class="text-2xl font-bold">{{servicosAgendadosCount}}</div>
            <p class="text-xs text-muted-foreground">-2.1% este mês</p>
          </div>
        </div>
      </div>
      <!-- Fim do Card Agendamentos Pendentes -->
      <!-- Inicio da tabela de Agendamentos Recentes -->

      <div class="grid md:grid-cols-2 gap-4">
        <div class="rounded-lg border bg-card text-card-foreground shadow-sm" data-v0-t="card">
          <div class="flex flex-col space-y-1.5 p-6 px-7">
            <h3 class="whitespace-nowrap text-2xl font-semibold leading-none tracking-tight">
              Agendamentos Recentes
            </h3>
            <p class="text-sm text-muted-foreground">Últimos agendamentos realizados.</p>
          </div>
          <div class="p-6">
            <div class="relative w-full overflow-auto">
              <table class="w-full caption-bottom text-sm">
                <thead class="[&amp;_tr]:border-b">
                  <tr class="border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted">
                    <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground [&amp;:has([role=checkbox])]:pr-0">
                      Cliente
                    </th>
                    <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground [&amp;:has([role=checkbox])]:pr-0">
                      Serviço
                    </th>
                    <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground [&amp;:has([role=checkbox])]:pr-0">
                      Data
                    </th>
                    <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground [&amp;:has([role=checkbox])]:pr-0">
                      Valor
                    </th>
                    <th class="h-12 px-4 text-left align-middle font-medium text-muted-foreground [&amp;:has([role=checkbox])]:pr-0">
                      Profissional
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let agendamento of agendamentos" class="border-b transition-colors hover:bg-muted/50">
                    <td class="p-4 align-middle">{{ agendamento.clienteId }}</td>
                    <td class="p-4 align-middle">{{ agendamento.servicoId }}</td>
                    <td class="p-4 align-middle">{{ agendamento.dataHora | date: 'dd/MM/yyyy HH:mm' }}</td>
                    <td class="p-4 align-middle">{{ agendamento.status }}</td>
                    <td class="p-4 align-middle">{{ agendamento.profissionalId }}</td>
                    <td class="p-4 align-middle">{{ agendamento.observacoes }}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <!-- Final da tabela de Agendamentos Recentes -->
        <!-- Inicio da tabela de Configurações da Barbearia -->

        <div class="flex flex-col gap-4">
          <div class="rounded-lg border bg-card text-card-foreground shadow-sm" data-v0-t="card">
            <div class="space-y-1.5 p-6 flex flex-row items-center justify-between bg-muted/50 px-6 py-4">
              <div class="grid gap-0.5">
                <h3 class="whitespace-nowrap font-semibold tracking-tight text-lg">Configurações</h3>
                <p class="text-sm text-muted-foreground">Ajuste as configurações da barbearia</p>
              </div>
            </div>
            <div class="p-6 text-sm">
              <div class="grid gap-3">
                <div class="font-semibold">Informações da Barbearia</div>
                <ul class="grid gap-3">
                  <li class="flex items-center justify-between">
                    <span class="text-muted-foreground">Nome</span>
                    <span>Barbearia do João</span>
                  </li>
                  <li class="flex items-center justify-between">
                    <span class="text-muted-foreground">Endereço</span>
                    <span>Rua das Flores, 123</span>
                  </li>
                  <li class="flex items-center justify-between">
                    <span class="text-muted-foreground">Telefone</span>
                    <span>(11) 1234-5678</span>
                  </li>
                  <li class="flex items-center justify-between">
                    <span class="text-muted-foreground">E-mail</span>
                    <span>contatobarbeariadojao.com.br</span>
                  </li>
                </ul>
                <div data-orientation="horizontal" role="none" class="shrink-0 bg-border h-[1px] w-full my-2"></div>
                <div class="font-semibold">Horário de Funcionamento</div>
                <ul class="grid gap-3">
                  <li class="flex items-center justify-between">
                    <span class="text-muted-foreground">Segunda a Sexta</span>
                    <span>08:00 - 19:00</span>
                  </li>
                  <li class="flex items-center justify-between">
                    <span class="text-muted-foreground">Sábado</span>
                    <span>08:00 - 17:00</span>
                  </li>
                  <li class="flex items-center justify-between">
                    <span class="text-muted-foreground">Domingo</span>
                    <span>Fechado</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <!-- Fim da tabela de Configurações da Barbearia -->
          <!-- Inicio da tabela de Serviços Realizados -->

          <div class="rounded-lg border bg-card text-card-foreground shadow-sm" data-v0-t="card">
            <div class="space-y-1.5 p-6 flex flex-row items-center justify-between bg-muted/50 px-6 py-4">
              <div class="grid gap-0.5">
                <h3 class="whitespace-nowrap font-semibold tracking-tight text-lg">Serviços</h3>
                <p class="text-sm text-muted-foreground">Gerenciar os serviços oferecidos</p>
              </div>
              <button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-8 w-8">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="h-4 w-4"
                >
                  <path d="M5 12h14"></path>
                  <path d="M12 5v14"></path>
                </svg>
                <span class="sr-only">Adicionar Serviço</span>
              </button>
            </div>
            <div class="p-6 text-sm">
              <div class="grid gap-3">
                <div class="font-semibold">Serviços Oferecidos</div>
                <ul class="grid gap-3">
                  <li *ngFor="let servico of servicos" class="flex items-center justify-between">
                    <span class="text-muted-foreground">{{ servico.nomeServico }}</span>
                    <span>R$ {{ servico.preco | number: '1.2-2' }}</span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
              <!-- Fim da tabela de Serviços Realizados -->
              <!-- Inicio do Gráfico de Faturamento Mensal -->
<div class="flex flex-col gap-4 w-full">
  <div class="rounded-lg border bg-card text-card-foreground shadow-sm" data-v0-t="card">
    <div class="space-y-1.5 p-6 flex flex-row items-center justify-between bg-muted/50 px-6 py-4">
      <div class="grid gap-0.5">
        <h3 class="whitespace-nowrap text-2xl font-semibold leading-none tracking-tight">Faturamento Mensal</h3>
        <p class="text-sm text-muted-foreground">Gráfico de faturamento mensal</p>
      </div>
    </div>
    <div class="p-6">
      <div class="aspect-[16/9]">
        <canvas baseChart [data]="chartData" [type]="chartType" [options]="chartOptions"></canvas>
      </div>
    </div>
  </div>

  <!-- Fim do Gráfico de Faturamento Mensal -->

  <!-- Inicio do Gráfico de Desempenho por Vendedor -->
  <div class="rounded-lg border bg-card text-card-foreground shadow-sm" data-v0-t="card">
    <div class="space-y-1.5 p-6 flex flex-row items-center justify-between bg-muted/50 px-6 py-4">
      <div class="grid gap-0.5">
        <h3 class="whitespace-nowrap text-2xl font-semibold leading-none tracking-tight">Desempenho por Vendedor</h3>
        <p class="text-sm text-muted-foreground">Gráfico de desempenho por vendedor</p>
      </div>
    </div>
    <div class="p-6">
      <div class="aspect-[16/9]">
        <div class="flex aspect-video justify-center text-xs min-h-[300px]" data-chart="chart-Relaafnnkr">
          <style>
            [data-chart=chart-Relaafnnkr] {
              --color-desktop: hsl(var(--chart-1));
            }
            .dark [data-chart=chart-Relaafnnkr] {
              --color-desktop: hsl(var(--chart-1));
            }
          </style>
          <div class="recharts-responsive-container" style="width:100%;height:100%;min-width:0"></div>
        </div>
      </div>
    </div>
  </div>
</div>
